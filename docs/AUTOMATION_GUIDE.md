# ğŸš€ Git ìë™í™” ì‹œìŠ¤í…œ ê°€ì´ë“œ

## ğŸ“‹ ê°œìš”

ì´ í”„ë¡œì íŠ¸ëŠ” GitHub Flowì™€ ì™„ë²½í•˜ê²Œ í˜¸í™˜ë˜ëŠ” ìë™í™” ì‹œìŠ¤í…œì„ ì‚¬ìš©í•©ë‹ˆë‹¤.
ì½”ë“œ í’ˆì§ˆ ê²€ì‚¬ì™€ íƒœìŠ¤í¬ ì•„ì¹´ì´ë¹™ì´ ìë™ìœ¼ë¡œ ìˆ˜í–‰ë©ë‹ˆë‹¤.

## ğŸ”§ ì‹œìŠ¤í…œ êµ¬ì„±

### 1. Pre-commit Hook (ëª¨ë“  ë¸Œëœì¹˜)
ì»¤ë°‹ ì „ì— ìë™ìœ¼ë¡œ ì‹¤í–‰ë˜ëŠ” ê²€ì‚¬:
- **ESLint**: JavaScript/TypeScript ì½”ë“œ í’ˆì§ˆ ê²€ì‚¬
- **Prettier**: ì½”ë“œ í¬ë§·íŒ… ê²€ì‚¬
- **TypeScript**: íƒ€ì… ì²´í¬ (ê²½ê³ ë§Œ)

### 2. Post-commit Hook (main ë¸Œëœì¹˜ë§Œ)
main ë¸Œëœì¹˜ì—ì„œ ì»¤ë°‹ í›„ ìë™ìœ¼ë¡œ ì‹¤í–‰:
- ì»¤ë°‹ ë©”ì‹œì§€ì—ì„œ "Closes: Phase X, Task Y" íŒ¨í„´ ê°ì§€
- DEVELOPMENT_PLAN.mdì—ì„œ í•´ë‹¹ íƒœìŠ¤í¬ë¥¼ COMPLETED_TASKS.mdë¡œ ì´ë™
- ì™„ë£Œ ë©”íƒ€ë°ì´í„° ì¶”ê°€ (ë‚ ì§œ, ì‘ì—…ì, ì»¤ë°‹ ì •ë³´ ë“±)

## ğŸ“š ì‚¬ìš©ë²•

### ê¸°ë³¸ ì›Œí¬í”Œë¡œìš°

1. **feature ë¸Œëœì¹˜ì—ì„œ ì‘ì—…**
```bash
git checkout -b feature/new-feature
# ì½”ë“œ ì‘ì—…...
git add .
git commit -m "feat: ìƒˆë¡œìš´ ê¸°ëŠ¥ êµ¬í˜„"
# Pre-commit hookì´ ìë™ìœ¼ë¡œ ì½”ë“œ í’ˆì§ˆ ê²€ì‚¬
```

2. **main ë¸Œëœì¹˜ì— ë¨¸ì§€ í›„ íƒœìŠ¤í¬ ì™„ë£Œ**
```bash
git checkout main
git merge feature/new-feature
git commit -m "Closes: Phase 1, Task 2 - ê²°ì œ ì‹œìŠ¤í…œ êµ¬í˜„ ì™„ë£Œ"
# Post-commit hookì´ ìë™ìœ¼ë¡œ íƒœìŠ¤í¬ ì•„ì¹´ì´ë¹™
```

### ì»¤ë°‹ ë©”ì‹œì§€ íŒ¨í„´

#### ì¼ë°˜ ì»¤ë°‹ (feature ë¸Œëœì¹˜)
```
feat: ìƒˆë¡œìš´ ê¸°ëŠ¥ ì¶”ê°€
fix: ë²„ê·¸ ìˆ˜ì •
docs: ë¬¸ì„œ ì—…ë°ì´íŠ¸
style: ì½”ë“œ ìŠ¤íƒ€ì¼ ë³€ê²½
refactor: ì½”ë“œ ë¦¬íŒ©í† ë§
test: í…ŒìŠ¤íŠ¸ ì¶”ê°€
chore: ê¸°íƒ€ ì‘ì—…
```

#### íƒœìŠ¤í¬ ì™„ë£Œ ì»¤ë°‹ (main ë¸Œëœì¹˜)
```
Closes: Phase 1, Task 2 - ì„¤ëª…
```

ì§€ì›ë˜ëŠ” íŒ¨í„´:
- `Closes: Phase 1, Task 2`
- `Closes: P1, T2`
- `ì™„ë£Œ: Phase 1, Task 2`
- `Done: Phase 1, Task 2`

## ğŸ› ï¸ ìˆ˜ë™ ì‹¤í–‰

### ì½”ë“œ í’ˆì§ˆ ê²€ì‚¬
```bash
npm run lint          # ESLint ì‹¤í–‰
npm run format:check  # Prettier ì²´í¬
npm run format        # Prettier ìë™ í¬ë§·íŒ…
```

### íƒœìŠ¤í¬ ì•„ì¹´ì´ë¹™ (ìˆ˜ë™)
```bash
npm run task:archive  # ë§ˆì§€ë§‰ ì»¤ë°‹ì—ì„œ íƒœìŠ¤í¬ ì•„ì¹´ì´ë¹™ ì‹¤í–‰
```

## ğŸ“ íŒŒì¼ êµ¬ì¡°

```
í”„ë¡œì íŠ¸/
â”œâ”€â”€ .husky/
â”‚   â”œâ”€â”€ pre-commit        # Pre-commit hook
â”‚   â””â”€â”€ post-commit       # Post-commit hook
â”œâ”€â”€ scripts/
â”‚   â””â”€â”€ automation/
â”‚       â”œâ”€â”€ update-development-plan.ts  # íƒœìŠ¤í¬ ì•„ì¹´ì´ë¹™
â”‚       â”œâ”€â”€ pre-commit-checks.ts        # ì½”ë“œ í’ˆì§ˆ ê²€ì‚¬
â”‚       â””â”€â”€ lib/
â”‚           â”œâ”€â”€ git-utils.ts            # Git ìœ í‹¸ë¦¬í‹°
â”‚           â””â”€â”€ file-utils.ts           # íŒŒì¼ ì¡°ì‘ ìœ í‹¸ë¦¬í‹°
â”œâ”€â”€ .lintstagedrc.json    # lint-staged ì„¤ì •
â”œâ”€â”€ DEVELOPMENT_PLAN.md   # ì§„í–‰ ì¤‘ì¸ íƒœìŠ¤í¬
â””â”€â”€ COMPLETED_TASKS.md    # ì™„ë£Œëœ íƒœìŠ¤í¬ ì•„ì¹´ì´ë¸Œ
```

## ğŸ” ë¬¸ì œ í•´ê²°

### Pre-commitì´ ì‹¤íŒ¨í•˜ëŠ” ê²½ìš°

1. **ESLint ì˜¤ë¥˜**
```bash
npm run lint -- --fix  # ìë™ ìˆ˜ì • ì‹œë„
```

2. **Prettier ì˜¤ë¥˜**
```bash
npm run format  # ìë™ í¬ë§·íŒ…
```

3. **Hook ë¹„í™œì„±í™” (ê¸´ê¸‰ ì‹œ)**
```bash
git commit --no-verify -m "emergency: ê¸´ê¸‰ ìˆ˜ì •"
# ì£¼ì˜: ì½”ë“œ í’ˆì§ˆ ê²€ì‚¬ë¥¼ ê±´ë„ˆëœë‹ˆë‹¤
```

### Post-commitì´ ì‘ë™í•˜ì§€ ì•ŠëŠ” ê²½ìš°

1. **ë¸Œëœì¹˜ í™•ì¸**
```bash
git branch --show-current  # main ë¸Œëœì¹˜ì¸ì§€ í™•ì¸
```

2. **ìˆ˜ë™ ì‹¤í–‰**
```bash
npm run task:archive  # ìˆ˜ë™ìœ¼ë¡œ ì•„ì¹´ì´ë¹™ ì‹¤í–‰
```

## ğŸ¯ íŒ€ í˜‘ì—… ê°€ì´ë“œ

### ìƒˆ íŒ€ì› ì˜¨ë³´ë”©
```bash
# 1. ì €ì¥ì†Œ í´ë¡ 
git clone <repository>

# 2. ì˜ì¡´ì„± ì„¤ì¹˜ (ìë™ìœ¼ë¡œ husky ì„¤ì •)
npm install

# 3. í…ŒìŠ¤íŠ¸
npm run automation:test
```

### ë¸Œëœì¹˜ ì „ëµ
- `main`: ë°°í¬ ê°€ëŠ¥í•œ ì•ˆì • ë²„ì „
- `feature/*`: ìƒˆ ê¸°ëŠ¥ ê°œë°œ
- `fix/*`: ë²„ê·¸ ìˆ˜ì •
- `chore/*`: ìœ ì§€ë³´ìˆ˜ ì‘ì—…

## ğŸ“Š íƒœìŠ¤í¬ ì¶”ì 

### DEVELOPMENT_PLAN.md í˜•ì‹
```markdown
### Phase 1: Core Platform
1. **í•™ìƒ ì½”ìŠ¤ ìƒì„¸ í˜ì´ì§€**
   - ì½”ìŠ¤ ì •ë³´ í‘œì‹œ
   - ì»¤ë¦¬í˜ëŸ¼ ë³´ê¸°
   
2. **ê²°ì œ ì‹œìŠ¤í…œ**
   - Stripe í†µí•©
   - ì£¼ë¬¸ í™•ì¸
```

### COMPLETED_TASKS.md í˜•ì‹
```markdown
## Phase 1, Task 2
**ì™„ë£Œì¼**: 2025-02-07 14:30 KST
**ì‘ì—…ì**: Your Name
**ì»¤ë°‹**: abc1234

### ì„¤ëª…
2. **ê²°ì œ ì‹œìŠ¤í…œ**
   - Stripe í†µí•©
   - ì£¼ë¬¸ í™•ì¸

### ë³€ê²½ëœ íŒŒì¼
- app/payment/page.js
- lib/stripe.js
```

## ğŸš€ ê³ ê¸‰ ì„¤ì •

### ì»¤ìŠ¤í…€ ê²€ì‚¬ ì¶”ê°€
`scripts/automation/pre-commit-checks.ts` íŒŒì¼ì„ ìˆ˜ì •í•˜ì—¬ ì¶”ê°€ ê²€ì‚¬ë¥¼ ì„¤ì •í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

### íƒœìŠ¤í¬ íŒ¨í„´ ì»¤ìŠ¤í„°ë§ˆì´ì§•
`scripts/automation/lib/git-utils.ts`ì˜ `parseClosesPattern` í•¨ìˆ˜ë¥¼ ìˆ˜ì •í•˜ì—¬ ìƒˆë¡œìš´ íŒ¨í„´ì„ ì¶”ê°€í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

## ğŸ“ ì°¸ê³ ì‚¬í•­

- ëª¨ë“  hookì€ ì»¤ë°‹ì„ ì°¨ë‹¨í•˜ì§€ ì•Šë„ë¡ ì„¤ê³„ë˜ì—ˆìŠµë‹ˆë‹¤ (ESLint/Prettier ì œì™¸)
- íƒœìŠ¤í¬ ì•„ì¹´ì´ë¹™ì€ main ë¸Œëœì¹˜ì—ì„œë§Œ ì‘ë™í•©ë‹ˆë‹¤
- ì‹œìŠ¤í…œì€ Windows/Mac/Linux ëª¨ë‘ í˜¸í™˜ë©ë‹ˆë‹¤